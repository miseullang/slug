{
  "version": 3,
  "sources": ["../../../contentlayer.config.ts", "../../../lib/remark-arrow-replace.ts"],
  "sourcesContent": ["import { defineDocumentType, makeSource } from \"contentlayer/source-files\";\nimport remarkGfm from \"remark-gfm\";\nimport remarkBreaks from \"remark-breaks\";\nimport rehypeSlug from \"rehype-slug\";\nimport GithubSlugger from \"github-slugger\";\nimport removeMarkdown from \"remove-markdown\";\nimport { remarkArrowReplace } from \"./lib/remark-arrow-replace\";\n\ntype Heading = {\n  level: number;\n  title: string;\n  id: string;\n};\n\nfunction extractHeadings(raw: string): Heading[] {\n  const slugger = new GithubSlugger();\n  slugger.reset();\n  const headings: Heading[] = [];\n  const headingRegex = /^(#{2,4})\\s+(.+)$/gm;\n  const stripEmoji = (text: string) =>\n    text.replace(/\\p{Extended_Pictographic}|\\uFE0F/gu, \"\");\n  let match: RegExpExecArray | null;\n\n  while ((match = headingRegex.exec(raw))) {\n    const hashes = match[1];\n    const rawText = match[2].replace(/#+$/, \"\").trim();\n    const cleanText = stripEmoji(removeMarkdown(rawText)).trim();\n    const safeText = cleanText || rawText;\n    headings.push({\n      level: hashes.length,\n      title: safeText,\n      id: safeText\n        ? slugger.slug(safeText)\n        : slugger.slug(`heading-${headings.length + 1}`),\n    });\n  }\n\n  return headings;\n}\n\nconst Post = defineDocumentType(() => ({\n  name: \"Post\",\n  filePathPattern: `posts/**/*.mdx`,\n  contentType: \"mdx\",\n  fields: {\n    title: { type: \"string\", required: true },\n    date: { type: \"date\", required: true },\n    tags: { type: \"list\", of: { type: \"string\" }, required: false },\n    summary: { type: \"string\", required: false },\n  },\n  computedFields: {\n    slug: {\n      type: \"string\",\n      resolve: (post) => post._raw.flattenedPath.replace(/^posts\\//, \"\"),\n    },\n    headings: {\n      type: \"json\",\n      resolve: (post) => extractHeadings(post.body?.raw ?? \"\"),\n    },\n  },\n}));\n\nexport default makeSource({\n  contentDirPath: \"content\",\n  documentTypes: [Post],\n  mdx: {\n    rehypePlugins: [rehypeSlug],\n    remarkPlugins: [remarkGfm, remarkBreaks, remarkArrowReplace],\n  },\n});\n", "type Node = {\n  type?: string;\n  value?: string;\n  children?: Node[];\n};\n\nconst SKIP_TYPES = new Set([\"code\", \"inlineCode\"]);\n\nfunction transform(node?: Node) {\n  if (!node) return;\n  if (node.type && SKIP_TYPES.has(node.type)) return;\n\n  if (typeof node.value === \"string\") {\n    node.value = node.value.replace(/\u2192|->/g, \"\u2192\").replace(/\u21D2|=>/g, \"\u21D2\");\n  }\n\n  if (Array.isArray(node.children)) {\n    for (const child of node.children) {\n      transform(child);\n    }\n  }\n}\n\nexport function remarkArrowReplace() {\n  return (tree: unknown) => {\n    transform(tree as Node);\n  };\n}\n\n"],
  "mappings": ";AAAA,SAAS,oBAAoB,kBAAkB;AAC/C,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,oBAAoB;;;ACC3B,IAAM,aAAa,oBAAI,IAAI,CAAC,QAAQ,YAAY,CAAC;AAEjD,SAAS,UAAU,MAAa;AAC9B,MAAI,CAAC;AAAM;AACX,MAAI,KAAK,QAAQ,WAAW,IAAI,KAAK,IAAI;AAAG;AAE5C,MAAI,OAAO,KAAK,UAAU,UAAU;AAClC,SAAK,QAAQ,KAAK,MAAM,QAAQ,SAAS,QAAG,EAAE,QAAQ,SAAS,QAAG;AAAA,EACpE;AAEA,MAAI,MAAM,QAAQ,KAAK,QAAQ,GAAG;AAChC,eAAW,SAAS,KAAK,UAAU;AACjC,gBAAU,KAAK;AAAA,IACjB;AAAA,EACF;AACF;AAEO,SAAS,qBAAqB;AACnC,SAAO,CAAC,SAAkB;AACxB,cAAU,IAAY;AAAA,EACxB;AACF;;;ADbA,SAAS,gBAAgB,KAAwB;AAC/C,QAAM,UAAU,IAAI,cAAc;AAClC,UAAQ,MAAM;AACd,QAAM,WAAsB,CAAC;AAC7B,QAAM,eAAe;AACrB,QAAM,aAAa,CAAC,SAClB,KAAK,QAAQ,sCAAsC,EAAE;AACvD,MAAI;AAEJ,SAAQ,QAAQ,aAAa,KAAK,GAAG,GAAI;AACvC,UAAM,SAAS,MAAM,CAAC;AACtB,UAAM,UAAU,MAAM,CAAC,EAAE,QAAQ,OAAO,EAAE,EAAE,KAAK;AACjD,UAAM,YAAY,WAAW,eAAe,OAAO,CAAC,EAAE,KAAK;AAC3D,UAAM,WAAW,aAAa;AAC9B,aAAS,KAAK;AAAA,MACZ,OAAO,OAAO;AAAA,MACd,OAAO;AAAA,MACP,IAAI,WACA,QAAQ,KAAK,QAAQ,IACrB,QAAQ,KAAK,WAAW,SAAS,SAAS,CAAC,EAAE;AAAA,IACnD,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAEA,IAAM,OAAO,mBAAmB,OAAO;AAAA,EACrC,MAAM;AAAA,EACN,iBAAiB;AAAA,EACjB,aAAa;AAAA,EACb,QAAQ;AAAA,IACN,OAAO,EAAE,MAAM,UAAU,UAAU,KAAK;AAAA,IACxC,MAAM,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IACrC,MAAM,EAAE,MAAM,QAAQ,IAAI,EAAE,MAAM,SAAS,GAAG,UAAU,MAAM;AAAA,IAC9D,SAAS,EAAE,MAAM,UAAU,UAAU,MAAM;AAAA,EAC7C;AAAA,EACA,gBAAgB;AAAA,IACd,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS,CAAC,SAAS,KAAK,KAAK,cAAc,QAAQ,YAAY,EAAE;AAAA,IACnE;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS,CAAC,SAAS,gBAAgB,KAAK,MAAM,OAAO,EAAE;AAAA,IACzD;AAAA,EACF;AACF,EAAE;AAEF,IAAO,8BAAQ,WAAW;AAAA,EACxB,gBAAgB;AAAA,EAChB,eAAe,CAAC,IAAI;AAAA,EACpB,KAAK;AAAA,IACH,eAAe,CAAC,UAAU;AAAA,IAC1B,eAAe,CAAC,WAAW,cAAc,kBAAkB;AAAA,EAC7D;AACF,CAAC;",
  "names": []
}
